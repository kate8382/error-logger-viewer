<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link href="favicon.ico" rel="icon" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Error Logger & Viewer</title>
  <!-- Стили и скрипты будут автоматически подключены HtmlWebpackPlugin -->
  <!-- Мини-скрипт для раннего логирования ошибок ресурсов -->
  <script>
    window.__earlyErrors = [];
    window.addEventListener('error', function (event) {
      if (event.target && (event.target.tagName === 'SCRIPT' || event.target.tagName === 'LINK' || event.target.tagName === 'IMG')) {
        window.__earlyErrors.push({
          type: 'ResourceLoadError',
          message: 'Failed to load resource: ' + (event.target.src || event.target.href),
          source: event.target.tagName,
          timestamp: new Date().toISOString()
        });
      }
    }, true);
  </script>

</head>

<body>
  <div class="container">
    <aside class="sidebar flex">
      <img class="sidebar__logo" src="img/logo.svg" aria-label="Logo" alt="Logo">

      <ul class="sidebar__list flex" aria-label="Sidebar navigation">
        <li class="sidebar__item">
          <a class="sidebar__item-link flex" href="#about">
            <svg class="sidebar__item-icon" width="18" height="18" viewBox="0 0 18 18" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M10.308 6C10.308 6 11.4495 0 7.80675 0H1.5V18H16.5V8.25C16.5 5.68575 12.5648 5.44125 10.308 6ZM13.5 14.25H4.5V13.5H13.5V14.25ZM13.5 12H4.5V11.25H13.5V12ZM13.5 9.75H4.5V9H13.5V9.75ZM10.926 0.05625C12.5775 0.93675 15.3795 3.7185 16.5 5.217C15.5355 4.542 13.467 3.97425 11.9318 4.33275C12.0983 3.23175 11.793 0.93225 10.926 0.05625Z"
                fill="black"></path>
            </svg>
            <span class="sidebar__item-text" data-i18n="navAbout">About</span>
          </a>
        </li>

        <li class="sidebar__item">
          <a class="sidebar__item-link flex" href="#errorStats">
            <svg class="sidebar__item-icon" width="18" height="18" viewBox="0 0 18 18" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <g clip-path="url(#clip0_1261_2079)">
                <path
                  d="M3.75 14.25H0.75V11.25H3.75V14.25ZM8.25 14.25H5.25V8.25H8.25V14.25ZM12.75 14.25H9.75V4.5H12.75V14.25ZM17.25 14.25H14.25V0H17.25V14.25ZM18 15.75H0V17.25H18V15.75Z"
                  fill="black"></path>
              </g>
              <defs>
                <clipPath id="clip0_1261_2079">
                  <rect width="18" height="18" fill="white"></rect>
                </clipPath>
              </defs>
            </svg>
            <span class="sidebar__item-text" data-i18n="navStats">Error Statistics</span>
          </a>
        </li>

        <li class="sidebar__item">
          <a class="sidebar__item-link flex" href="#errorTable">
            <svg class="sidebar__item-icon" width="18" height="18" viewBox="0 0 18 18" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M8.7 8.25C8.7 7.836 8.364 7.5 7.95 7.5C6.70875 7.5 4.24125 7.5 3 7.5C2.586 7.5 2.25 7.836 2.25 8.25V15C2.25 15.414 2.586 15.75 3 15.75H7.95C8.364 15.75 8.7 15.414 8.7 15C8.7 13.431 8.7 9.819 8.7 8.25ZM15.75 12.75C15.75 12.336 15.414 12 15 12H10.5C10.0965 12 9.75 12.3577 9.75 12.75V15C9.75 15.414 10.086 15.75 10.5 15.75H15C15.414 15.75 15.75 15.414 15.75 15V12.75ZM15.75 3C15.75 2.586 15.414 2.25 15 2.25C13.8472 2.25 11.6528 2.25 10.5 2.25C10.086 2.25 9.75 2.586 9.75 3V10.2C9.75 10.614 10.086 10.95 10.5 10.95H15C15.414 10.95 15.75 10.614 15.75 10.2C15.75 8.5545 15.75 4.6455 15.75 3ZM8.7 3C8.7 2.586 8.364 2.25 7.95 2.25C6.70875 2.25 4.24125 2.25 3 2.25C2.586 2.25 2.25 2.586 2.25 3V5.7C2.25 6.114 2.586 6.45 3 6.45H7.95C8.364 6.45 8.7 6.114 8.7 5.7C8.7 4.93725 8.7 3.76275 8.7 3Z"
                fill="black"></path>
            </svg>
            <span class="sidebar__item-text" data-i18n="navErrors">Error Table</span>
          </a>
        </li>

        <li class="sidebar__item">
          <div class="sidebar__dropdown" id="sidebarDropdown">
            <button class="sidebar__dropdown-btn flex">
              <svg class="sidebar__item-icon" width="18" height="18" viewBox="0 0 18 18" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_1303_3752)">
                  <path
                    d="M17.434 5.85703C17.5465 6.16289 17.4516 6.50391 17.209 6.72187L15.6867 8.10703C15.7254 8.39883 15.7465 8.69766 15.7465 9C15.7465 9.30234 15.7254 9.60117 15.6867 9.89297L17.209 11.2781C17.4516 11.4961 17.5465 11.8371 17.434 12.143C17.2793 12.5613 17.093 12.9621 16.8785 13.3488L16.7133 13.6336C16.4813 14.0203 16.2211 14.3859 15.9363 14.7305C15.7289 14.9836 15.3844 15.068 15.075 14.9695L13.1168 14.3473C12.6457 14.7094 12.1254 15.0117 11.5699 15.2402L11.1305 17.2477C11.0602 17.5676 10.8141 17.8207 10.4906 17.8734C10.0055 17.9543 9.50625 17.9965 8.99649 17.9965C8.48672 17.9965 7.9875 17.9543 7.50235 17.8734C7.17891 17.8207 6.93282 17.5676 6.8625 17.2477L6.42305 15.2402C5.86758 15.0117 5.34727 14.7094 4.87617 14.3473L2.92149 14.973C2.61211 15.0715 2.26758 14.9836 2.06016 14.734C1.77539 14.3895 1.51524 14.0238 1.28321 13.6371L1.11797 13.3523C0.903519 12.9656 0.71719 12.5648 0.562503 12.1465C0.450003 11.8406 0.544925 11.4996 0.787503 11.2816L2.30977 9.89648C2.2711 9.60117 2.25 9.30234 2.25 9C2.25 8.69766 2.2711 8.39883 2.30977 8.10703L0.787503 6.72187C0.544925 6.50391 0.450003 6.16289 0.562503 5.85703C0.71719 5.43867 0.903519 5.03789 1.11797 4.65117L1.28321 4.36641C1.51524 3.97969 1.77539 3.61406 2.06016 3.26953C2.26758 3.01641 2.61211 2.93203 2.92149 3.03047L4.87969 3.65273C5.35078 3.29063 5.8711 2.98828 6.42657 2.75977L6.86602 0.752344C6.93633 0.432422 7.18242 0.179297 7.50586 0.126562C7.99102 0.0421875 8.49024 0 9 0C9.50977 0 10.009 0.0421875 10.4941 0.123047C10.8176 0.175781 11.0637 0.428906 11.134 0.748828L11.5734 2.75625C12.1289 2.98477 12.6492 3.28711 13.1203 3.64922L15.0785 3.02695C15.3879 2.92852 15.7324 3.01641 15.9398 3.26602C16.2246 3.61055 16.4848 3.97617 16.7168 4.36289L16.882 4.64766C17.0965 5.03437 17.2828 5.43516 17.4375 5.85352L17.434 5.85703ZM9 11.8125C10.5539 11.8125 11.8125 10.5539 11.8125 9C11.8125 7.44609 10.5539 6.1875 9 6.1875C7.4461 6.1875 6.1875 7.44609 6.1875 9C6.1875 10.5539 7.4461 11.8125 9 11.8125Z"
                    fill="black"></path>
                </g>
                <defs>
                  <clipPath id="clip0_1303_3752">
                    <rect width="18" height="18" fill="white"></rect>
                  </clipPath>
                </defs>
              </svg>
              <span class="sidebar__item-text" data-i18n="sidebarDropdown">Settings</span>
              <svg class="sidebar__dropdown-arrow" width="18" height="18" viewBox="0 0 18 18" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path d="M0 5.4975L2.12175 3.375L9.003 10.3792L15.8783 3.375L18 5.4975L9.003 14.625L0 5.4975Z"
                  fill="black"></path>
              </svg>
            </button>

            <div class="sidebar__dropdown-list" id="sidebarDropdownList">
              <div class="sidebar__dropdown-group">
                <button class="sidebar__dropdown-group-btn flex" data-group="mode">
                  <span class="sidebar__dropdown-group-text" data-i18n="sidebarDropdownMode">Mode</span>
                  <svg class="sidebar__dropdown-arrow" width="18" height="18" viewBox="0 0 18 18" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 5.4975L2.12175 3.375L9.003 10.3792L15.8783 3.375L18 5.4975L9.003 14.625L0 5.4975Z"
                      fill="black"></path>
                  </svg>
                </button>
                <div class="sidebar__dropdown-sublist" data-group="mode">
                  <button class="sidebar__dropdown-option" data-i18n="sidebarDropdownServer"
                    data-value="server"><S>Server</S></button>
                  <button class="sidebar__dropdown-option" data-i18n="sidebarDropdownDemo"
                    data-value="demo"><S>Demo</S></button>
                </div>
              </div>

              <div class="sidebar__dropdown-group">
                <button class="sidebar__dropdown-group-btn flex" data-group="theme">
                  <span class="sidebar__dropdown-group-text" data-i18n="sidebarDropdownTheme">Theme</span>
                  <svg class="sidebar__dropdown-arrow" width="18" height="18" viewBox="0 0 18 18" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 5.4975L2.12175 3.375L9.003 10.3792L15.8783 3.375L18 5.4975L9.003 14.625L0 5.4975Z"
                      fill="black"></path>
                  </svg>
                </button>
                <div class="sidebar__dropdown-sublist" data-group="theme">
                  <button class="sidebar__dropdown-option" data-i18n="sidebarDropdownLight"
                    data-value="light">Light</button>
                  <button class="sidebar__dropdown-option" data-i18n="sidebarDropdownDark"
                    data-value="dark">Dark</button>
                </div>
              </div>

              <div class="sidebar__dropdown-group">
                <button class="sidebar__dropdown-group-btn flex" data-group="language">
                  <span class="sidebar__dropdown-group-text" data-i18n="sidebarDropdownLanguage">Language</span>
                  <svg class="sidebar__dropdown-arrow" width="18" height="18" viewBox="0 0 18 18" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M0 5.4975L2.12175 3.375L9.003 10.3792L15.8783 3.375L18 5.4975L9.003 14.625L0 5.4975Z"
                      fill="black"></path>
                  </svg>
                </button>
                <div class="sidebar__dropdown-sublist" data-group="language">
                  <button class="sidebar__dropdown-option" data-i18n="sidebarDropdownEn"
                    data-value="en">English</button>
                  <button class="sidebar__dropdown-option" data-i18n="sidebarDropdownRu"
                    data-value="ru">Русский</button>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </aside>

    <header class="header flex">
      <h1 class="header__title" data-i18n="title">Error Logger &amp;&nbsp;Viewer</h1>
      <div class="header__search flex">
        <input class="header__search-input" id="searchInput" data-i18n-placeholder="placeholder" type="text"
          placeholder="Search errors...">
        <button class="header__search-btn" id="searchBtn" aria-label="Button search">
          <svg class="header__search-icon" width="18" height="18" viewBox="0 0 18 18" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_1382_5721)">
              <path
                d="M17.8568 16.2345L13.203 11.5807C14.0782 10.377 14.5958 8.8965 14.5958 7.2975C14.5958 3.27375 11.322 0 7.2975 0C3.27375 0 0 3.27375 0 7.2975C0 11.322 3.27375 14.595 7.2975 14.595C8.823 14.595 10.2397 14.1247 11.4128 13.3215L16.0912 18L17.8568 16.2345ZM2.1405 7.2975C2.1405 4.4535 4.45425 2.13975 7.29825 2.13975C10.1423 2.13975 12.456 4.4535 12.456 7.2975C12.456 10.1415 10.1423 12.4552 7.29825 12.4552C4.4535 12.4552 2.1405 10.1415 2.1405 7.2975Z"
                fill="#89868D"></path>
            </g>
            <defs>
              <clipPath id="clip0_1382_5721">
                <rect width="18" height="18" fill="white"></rect>
              </clipPath>
            </defs>
          </svg>

        </button>
      </div>
      <div class="header__lang-switch flex">
        <button class="lang-btn" id="lang-en" aria-label="Switch to English">EN</button>
        <button class="lang-btn" id="lang-ru" aria-label="Переключить на русский">RUS</button>
      </div>
    </header>

    <main class="main flex">
      <section class="stats flex" id="errorStats">
        <h2 class="stats__title" data-i18n="statsTitle">Error Statistics</h2>
        <ul class="stats__list flex">
          <li class="stats__item flex">
            <div class="stats__icon-wrapper stats__icon-wrapper--purple">
              <svg class="stats__icon stats__icon--purple" width="28" height="28" viewBox="0 0 28 28" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <polygon points="14,3 25,25 3,25" fill="currentColor"></polygon>
                <rect x="13" y="11" width="2" height="7" rx="1" fill="currentColor"></rect>
                <rect x="13" y="20" width="2" height="2" rx="1" fill="currentColor"></rect>
              </svg>
            </div>
            <span class="stats__label" data-i18n="statsErrorsPerDay"></span>: <span
              class="stats__value stats__value--purple" id="errorsPerDay" aria-live="polite">0</span>
          </li>
          <li class="stats__item flex">
            <div class="stats__icon-wrapper stats__icon-wrapper--red">
              <svg class="stats__icon stats__icon--red" width="28" height="28" viewBox="0 0 28 28" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <polygon points="14,3 25,25 3,25" fill="currentColor"></polygon>
                <rect x="13" y="11" width="2" height="7" rx="1" fill="currentColor"></rect>
                <rect x="13" y="20" width="2" height="2" rx="1" fill="currentColor"></rect>
              </svg>
            </div>
            <span class="stats__label" data-i18n="statsTotal"></span>: <span class="stats__value stats__value--red"
              id="totalErrors" aria-live="polite">0</span>
          </li>
          <li class="stats__item flex">
            <div class="stats__icon-wrapper stats__icon-wrapper--blue">
              <svg class="stats__icon stats__icon--blue" width="28" height="28" viewBox="0 0 28 28" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <polygon points="14,3 25,25 3,25" fill="currentColor"></polygon>
                <rect x="13" y="11" width="2" height="7" rx="1" fill="currentColor"></rect>
                <rect x="13" y="20" width="2" height="2" rx="1" fill="currentColor"></rect>
              </svg>
            </div>
            <span class="stats__label" data-i18n="statsUnique"></span>: <span class="stats__value stats__value--blue"
              id="uniqueErrors" aria-live="polite">0</span>
          </li>
        </ul>

        <div class="stats__chart flex" id="errorsChart">
          <div class="stats__chart-header flex">
            <h3 class="stats__title" data-i18n="statsChartTitle"></h3>
            <div class="stats__sort flex">
              <button class="stats__sort-btn" id="errorsChartSortWeek" data-i18n="statsPeriodWeek" data-period="week"
                aria-label="Week"></button>
              <button class="stats__sort-btn" id="errorsChartSortMonth" data-i18n="statsPeriodMonth" data-period="month"
                aria-label="Month"></button>
              <button class="stats__sort-btn" id="errorsChartSortYear" data-i18n="statsPeriodYear" data-period="year"
                aria-label="Year"></button>
            </div>
          </div>
          <canvas class="stats__chart-canvas" id="errorsChartCanvas"></canvas>
        </div>
      </section>

      <section class="error-table" id="errorTableSection">
        <h2 class="error-table__title" data-i18n="errorTableTitle">Error Table</h2>
        <table class="error-table__table flex" id="errorTable" aria-label="Error Table">
          <thead>
            <tr class="error-table__head" id="errorTableHead">
              <th>
                <button class="error-table__btn-sort flex" id="sortById" aria-label="Sort by ID">
                  <span data-i18n="tableId">ID</span>
                  <svg class="sort-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    style="vertical-align: middle; margin-left: 4px; margin-bottom: 2px;">
                    <polygon points="10,4 5,9 15,9" fill="currentColor" />
                    <polygon points="10,16 15,11 5,11" fill="currentColor" />
                  </svg>
                </button>
              </th>

              <th>
                <button class="error-table__btn-sort flex" id="sortByType" aria-label="Sort by Type of Error">
                  <span data-i18n="tableType">Type of Error</span>
                  <svg class="sort-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    style="vertical-align: middle; margin-left: 4px; margin-bottom: 2px;">
                    <polygon points="10,4 5,9 15,9" fill="currentColor" />
                    <polygon points="10,16 15,11 5,11" fill="currentColor" />
                  </svg>
                </button>
              </th>

              <th>
                <button class="error-table__btn-sort flex" id="sortByTimestamp" aria-label="Sort by Timestamp">
                  <span data-i18n="tableTimestamp">Timestamp</span>
                  <svg class="sort-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    style="vertical-align: middle; margin-left: 4px; margin-bottom: 2px;">
                    <polygon points="10,4 5,9 15,9" fill="currentColor" />
                    <polygon points="10,16 15,11 5,11" fill="currentColor" />
                  </svg>
                </button>
              </th>

              <th data-i18n="tableStatus">
                <button class="error-table__btn-sort flex" id="sortByStatus" aria-label="Sort by Status">
                  <span data-i18n="tableStatus">Status</span>
                  <svg class="sort-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                    style="vertical-align: middle; margin-left: 4px; margin-bottom: 2px;">
                    <polygon points="10,4 5,9 15,9" fill="currentColor" />
                    <polygon points="10,16 15,11 5,11" fill="currentColor" />
                  </svg>
                </button>
              </th>
              <th data-i18n="tableActions">Actions</th>
            </tr>
          </thead>

          <tbody class="error-table__body" id="errorTableBody"></tbody>
        </table>
      </section>

      <div class="modal" id="modal" aria-labelledby="modalTitle" aria-modal="true" role="dialog">
        <div class="modal__content flex" id="modalContent"></div>
      </div>
    </main>

    <footer class="footer flex">
      <p>&copy; 2023 Error Logger & Viewer. All rights reserved.</p>
    </footer>

  </div>
</body>

</html>